{"file":"/home/user/climbox/packages/api/src/site-survey-points/site-survey-points.entity.ts","mappings":";;;;;;;;;;;;AAAA,qCASiB;AAEjB,6CAA8C;AAC9C,wDAA6C;AAC7C,2DAA0D;AAGnD,IAAM,eAAe,GAArB,MAAM,eAAe;CAyC3B,CAAA;AAxCC;IAAC,IAAA,qBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;IAC3B,IAAA,gCAAsB,GAAE;;2CACd;AAEX;IAAC,IAAA,qBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;IAC3B,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;;2DACV;AAElC;IAAC,IAAA,qBAAW,EAAC,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC;IACtD,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,mBAAmB,EAAE,CAAC;;iDAC9B;AAExB;IAAC,IAAA,qBAAW,EAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC;IAC3C,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;6CACf;AAEb;IAAC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,mBAAI,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC/D,IAAA,eAAK,GAAE;8BACF,mBAAI;6CAAC;AAEX;IAAC,IAAA,qBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;IAC3B,IAAA,oBAAU,EAAC,CAAC,WAA4B,EAAE,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC;;+CAChD;AAEf;IAAC,IAAA,iCAAgB,GAAE;IAClB,IAAA,gBAAM,EAAC;QACN,IAAI,EAAE,UAAU;QAChB,kBAAkB,EAAE,OAAO;QAC3B,MAAM,EAAE,IAAI;QACZ,IAAI,EAAE,IAAI;QACV,QAAQ,EAAE,IAAI;KACf,CAAC;IACD,IAAA,eAAK,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;gDACD;AAExB;IAAC,IAAA,0BAAgB,GAAE;8BACR,IAAI;kDAAC;AAEhB;IAAC,IAAA,0BAAgB,GAAE;8BACR,IAAI;kDAAC;AAxCL,eAAe;IAD3B,IAAA,gBAAM,GAAE;GACI,eAAe,CAyC3B;AAzCY,0CAAe","names":[],"sources":["/home/user/climbox/packages/api/src/site-survey-points/site-survey-points.entity.ts"],"sourcesContent":["import {\r\n  Entity,\r\n  PrimaryGeneratedColumn,\r\n  Column,\r\n  ManyToOne,\r\n  CreateDateColumn,\r\n  UpdateDateColumn,\r\n  Index,\r\n  RelationId,\r\n} from 'typeorm';\r\nimport { GeoJSON } from 'geojson';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Site } from '../sites/sites.entity';\r\nimport { ApiPointProperty } from '../docs/api-properties';\r\n\r\n@Entity()\r\nexport class SiteSurveyPoint {\r\n  @ApiProperty({ example: 1 })\r\n  @PrimaryGeneratedColumn()\r\n  id: number;\r\n\r\n  @ApiProperty({ example: 1 })\r\n  @Column({ nullable: true, type: 'integer' })\r\n  surveyPointLabelId: number | null;\r\n\r\n  @ApiProperty({ example: 'http://some-sample-url.com' })\r\n  @Column({ nullable: true, type: 'character varying' })\r\n  imageUrl: string | null;\r\n\r\n  @ApiProperty({ example: 'Outer tide pool' })\r\n  @Column({ nullable: false })\r\n  name: string;\r\n\r\n  @ManyToOne(() => Site, { onDelete: 'CASCADE', nullable: false })\r\n  @Index()\r\n  site: Site;\r\n\r\n  @ApiProperty({ example: 1 })\r\n  @RelationId((surveyPoint: SiteSurveyPoint) => surveyPoint.site)\r\n  siteId: number;\r\n\r\n  @ApiPointProperty()\r\n  @Column({\r\n    type: 'geometry',\r\n    spatialFeatureType: 'Point',\r\n    unique: true,\r\n    srid: 4326,\r\n    nullable: true,\r\n  })\r\n  @Index({ spatial: true })\r\n  polygon: GeoJSON | null;\r\n\r\n  @CreateDateColumn()\r\n  createdAt: Date;\r\n\r\n  @UpdateDateColumn()\r\n  updatedAt: Date;\r\n}\r\n"],"version":3}