1673fd4f5e105b4466f7e4bb5dc3e4d6
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Site = exports.SensorType = exports.SiteStatus = void 0;
const typeorm_1 = require("typeorm");
const class_transformer_1 = require("class-transformer");
const swagger_1 = require("@nestjs/swagger");
const reef_check_sites_entity_1 = require("../reef-check-sites/reef-check-sites.entity");
const reef_check_surveys_entity_1 = require("../reef-check-surveys/reef-check-surveys.entity");
const site_sketchfab_entity_1 = require("../site-sketchfab/site-sketchfab.entity");
const regions_entity_1 = require("../regions/regions.entity");
const surveys_entity_1 = require("../surveys/surveys.entity");
const users_entity_1 = require("../users/users.entity");
const site_applications_entity_1 = require("../site-applications/site-applications.entity");
const historical_monthly_mean_entity_1 = require("./historical-monthly-mean.entity");
const api_properties_1 = require("../docs/api-properties");
var SiteStatus;
(function (SiteStatus) {
    SiteStatus["InReview"] = "in_review";
    SiteStatus["Rejected"] = "rejected";
    SiteStatus["Approved"] = "approved";
    SiteStatus["Shipped"] = "shipped";
    SiteStatus["Deployed"] = "deployed";
    SiteStatus["Maintenance"] = "maintenance";
    SiteStatus["Lost"] = "lost";
    SiteStatus["EndOfLife"] = "end_of_life";
})(SiteStatus = exports.SiteStatus || (exports.SiteStatus = {}));
var SensorType;
(function (SensorType) {
    SensorType["SofarSpotter"] = "sofar_spotter";
})(SensorType = exports.SensorType || (exports.SensorType = {}));
let Site = class Site {
    get applied() {
        var _a;
        return !!((_a = this.siteApplication) === null || _a === void 0 ? void 0 : _a.permitRequirements);
    }
};
__decorate([
    (0, swagger_1.ApiProperty)({ example: 1 }),
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], Site.prototype, "id", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({ example: 'Duxbury Site' }),
    (0, typeorm_1.Column)({ nullable: true, type: 'character varying' }),
    __metadata("design:type", Object)
], Site.prototype, "name", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({ example: 'SPOT-0000' }),
    (0, typeorm_1.Column)({ nullable: true, type: 'character varying' }),
    __metadata("design:type", Object)
], Site.prototype, "sensorId", void 0);
__decorate([
    (0, api_properties_1.ApiPointProperty)(),
    (0, typeorm_1.Column)({
        type: 'geometry',
        spatialFeatureType: 'Point',
        unique: true,
        srid: 4326,
        nullable: false,
    }),
    (0, typeorm_1.Index)({ spatial: true }),
    __metadata("design:type", Object)
], Site.prototype, "polygon", void 0);
__decorate([
    (0, api_properties_1.ApiPointProperty)(),
    (0, typeorm_1.Column)({
        type: 'geometry',
        spatialFeatureType: 'Point',
        srid: 4326,
        nullable: true,
    }),
    __metadata("design:type", Object)
], Site.prototype, "nearestNOAALocation", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({ example: 23 }),
    (0, typeorm_1.Column)({ nullable: true, type: 'integer' }),
    __metadata("design:type", Object)
], Site.prototype, "depth", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({ example: 'https://something.example.com' }),
    (0, typeorm_1.Column)({ nullable: true, type: 'character varying' }),
    (0, typeorm_1.Check)('char_length(iframe) <= 200 AND char_length(iframe) > 10'),
    __metadata("design:type", Object)
], Site.prototype, "iframe", void 0);
__decorate([
    (0, typeorm_1.Column)({
        type: 'enum',
        enum: SiteStatus,
        default: SiteStatus.InReview,
        nullable: false,
    }),
    __metadata("design:type", String)
], Site.prototype, "status", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true, type: 'character varying' }),
    __metadata("design:type", Object)
], Site.prototype, "videoStream", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({ example: 33.54 }),
    (0, typeorm_1.Column)('float', { nullable: true }),
    __metadata("design:type", Object)
], Site.prototype, "maxMonthlyMean", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({ example: 'Pacific/Palau' }),
    (0, typeorm_1.Column)({ nullable: true, type: 'character varying' }),
    __metadata("design:type", Object)
], Site.prototype, "timezone", void 0);
__decorate([
    (0, typeorm_1.Column)({ default: true }),
    __metadata("design:type", Boolean)
], Site.prototype, "display", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", Date)
], Site.prototype, "createdAt", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", Date)
], Site.prototype, "updatedAt", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => regions_entity_1.Region, { onDelete: 'SET NULL', nullable: true }),
    (0, typeorm_1.Index)(),
    __metadata("design:type", Object)
], Site.prototype, "region", void 0);
__decorate([
    (0, typeorm_1.OneToOne)(() => site_sketchfab_entity_1.SketchFab, (sketchFab) => sketchFab.site),
    __metadata("design:type", Object)
], Site.prototype, "sketchFab", void 0);
__decorate([
    (0, typeorm_1.ManyToMany)(() => users_entity_1.User, (user) => user.administeredSites, {
        onDelete: 'CASCADE',
    }),
    __metadata("design:type", Array)
], Site.prototype, "admins", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({ type: () => [reef_check_sites_entity_1.ReefCheckSite] }),
    (0, typeorm_1.OneToMany)(() => reef_check_sites_entity_1.ReefCheckSite, (reefCheckSite) => reefCheckSite.site),
    __metadata("design:type", Array)
], Site.prototype, "reefCheckSites", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)(),
    (0, typeorm_1.OneToMany)(() => surveys_entity_1.Survey, (survey) => survey.site),
    __metadata("design:type", Array)
], Site.prototype, "surveys", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)(),
    (0, typeorm_1.OneToMany)(() => reef_check_surveys_entity_1.ReefCheckSurvey, (reefCheckSurvey) => reefCheckSurvey.site),
    __metadata("design:type", Array)
], Site.prototype, "reefCheckSurveys", void 0);
__decorate([
    (0, typeorm_1.OneToOne)(() => site_applications_entity_1.SiteApplication, (siteApplication) => siteApplication.site),
    __metadata("design:type", site_applications_entity_1.SiteApplication)
], Site.prototype, "siteApplication", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)(),
    (0, typeorm_1.OneToMany)(() => historical_monthly_mean_entity_1.HistoricalMonthlyMean, (historicalMonthlyMean) => historicalMonthlyMean.site),
    __metadata("design:type", Array)
], Site.prototype, "historicalMonthlyMean", void 0);
__decorate([
    (0, swagger_1.ApiHideProperty)(),
    (0, class_transformer_1.Exclude)(),
    (0, typeorm_1.Column)({ nullable: true, select: false, type: 'character varying' }),
    __metadata("design:type", Object)
], Site.prototype, "spotterApiToken", void 0);
__decorate([
    (0, swagger_1.ApiHideProperty)(),
    (0, class_transformer_1.Exclude)(),
    (0, typeorm_1.Column)({ nullable: true, select: false, type: 'character varying' }),
    __metadata("design:type", Object)
], Site.prototype, "contactInformation", void 0);
__decorate([
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", Boolean),
    __metadata("design:paramtypes", [])
], Site.prototype, "applied", null);
Site = __decorate([
    (0, typeorm_1.Entity)()
], Site);
exports.Site = Site;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvdXNlci9jbGltYm94L3BhY2thZ2VzL2FwaS9zcmMvc2l0ZXMvc2l0ZXMuZW50aXR5LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUNBLHFDQVlpQjtBQUNqQix5REFBb0Q7QUFDcEQsNkNBSXlCO0FBQ3pCLHlGQUE0RTtBQUM1RSwrRkFBa0Y7QUFDbEYsbUZBQW9FO0FBQ3BFLDhEQUFtRDtBQUNuRCw4REFBbUQ7QUFDbkQsd0RBQTZDO0FBQzdDLDRGQUFnRjtBQUNoRixxRkFBeUU7QUFDekUsMkRBQTBEO0FBRzFELElBQVksVUFTWDtBQVRELFdBQVksVUFBVTtJQUNwQixvQ0FBc0IsQ0FBQTtJQUN0QixtQ0FBcUIsQ0FBQTtJQUNyQixtQ0FBcUIsQ0FBQTtJQUNyQixpQ0FBbUIsQ0FBQTtJQUNuQixtQ0FBcUIsQ0FBQTtJQUNyQix5Q0FBMkIsQ0FBQTtJQUMzQiwyQkFBYSxDQUFBO0lBQ2IsdUNBQXlCLENBQUE7QUFDM0IsQ0FBQyxFQVRXLFVBQVUsR0FBVixrQkFBVSxLQUFWLGtCQUFVLFFBU3JCO0FBRUQsSUFBWSxVQUVYO0FBRkQsV0FBWSxVQUFVO0lBQ3BCLDRDQUE4QixDQUFBO0FBQ2hDLENBQUMsRUFGVyxVQUFVLEdBQVYsa0JBQVUsS0FBVixrQkFBVSxRQUVyQjtBQUdNLElBQU0sSUFBSSxHQUFWLE1BQU0sSUFBSTtJQTRIZixJQUNJLE9BQU87O1FBQ1QsT0FBTyxDQUFDLENBQUMsQ0FBQSxNQUFBLElBQUksQ0FBQyxlQUFlLDBDQUFFLGtCQUFrQixDQUFBLENBQUM7SUFDcEQsQ0FBQztDQUNGLENBQUE7QUEvSEM7SUFBQyxJQUFBLHFCQUFXLEVBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDM0IsSUFBQSxnQ0FBc0IsR0FBRTs7Z0NBQ2Q7QUFFWDtJQUFDLElBQUEscUJBQVcsRUFBQyxFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUUsQ0FBQztJQUN4QyxJQUFBLGdCQUFNLEVBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxDQUFDOztrQ0FDbEM7QUFFcEI7SUFBQyxJQUFBLHFCQUFXLEVBQUMsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLENBQUM7SUFDckMsSUFBQSxnQkFBTSxFQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQzs7c0NBQzlCO0FBRXhCO0lBQUMsSUFBQSxpQ0FBZ0IsR0FBRTtJQUNsQixJQUFBLGdCQUFNLEVBQUM7UUFDTixJQUFJLEVBQUUsVUFBVTtRQUNoQixrQkFBa0IsRUFBRSxPQUFPO1FBQzNCLE1BQU0sRUFBRSxJQUFJO1FBQ1osSUFBSSxFQUFFLElBQUk7UUFDVixRQUFRLEVBQUUsS0FBSztLQUNoQixDQUFDO0lBQ0QsSUFBQSxlQUFLLEVBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUM7O3FDQUNEO0FBRXhCO0lBQUMsSUFBQSxpQ0FBZ0IsR0FBRTtJQUNsQixJQUFBLGdCQUFNLEVBQUM7UUFDTixJQUFJLEVBQUUsVUFBVTtRQUNoQixrQkFBa0IsRUFBRSxPQUFPO1FBQzNCLElBQUksRUFBRSxJQUFJO1FBQ1YsUUFBUSxFQUFFLElBQUk7S0FDZixDQUFDOztpREFDa0M7QUFFcEM7SUFBQyxJQUFBLHFCQUFXLEVBQUMsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDNUIsSUFBQSxnQkFBTSxFQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLENBQUM7O21DQUN2QjtBQUVyQjtJQUFDLElBQUEscUJBQVcsRUFBQyxFQUFFLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxDQUFDO0lBQ3pELElBQUEsZ0JBQU0sRUFBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLG1CQUFtQixFQUFFLENBQUM7SUFDckQsSUFBQSxlQUFLLEVBQUMseURBQXlELENBQUM7O29DQUMzQztBQUl0QjtJQUFDLElBQUEsZ0JBQU0sRUFBQztRQUNOLElBQUksRUFBRSxNQUFNO1FBQ1osSUFBSSxFQUFFLFVBQVU7UUFDaEIsT0FBTyxFQUFFLFVBQVUsQ0FBQyxRQUFRO1FBQzVCLFFBQVEsRUFBRSxLQUFLO0tBQ2hCLENBQUM7O29DQUNpQjtBQUVuQjtJQUFDLElBQUEsZ0JBQU0sRUFBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLG1CQUFtQixFQUFFLENBQUM7O3lDQUMzQjtBQUUzQjtJQUFDLElBQUEscUJBQVcsRUFBQyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQztJQUMvQixJQUFBLGdCQUFNLEVBQUMsT0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDOzs0Q0FDTjtBQUU5QjtJQUFDLElBQUEscUJBQVcsRUFBQyxFQUFFLE9BQU8sRUFBRSxlQUFlLEVBQUUsQ0FBQztJQUN6QyxJQUFBLGdCQUFNLEVBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxDQUFDOztzQ0FDOUI7QUFFeEI7SUFBQyxJQUFBLGdCQUFNLEVBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUM7O3FDQUNUO0FBRWpCO0lBQUMsSUFBQSwwQkFBZ0IsR0FBRTs4QkFDUixJQUFJO3VDQUFDO0FBRWhCO0lBQUMsSUFBQSwwQkFBZ0IsR0FBRTs4QkFDUixJQUFJO3VDQUFDO0FBRWhCO0lBQUMsSUFBQSxtQkFBUyxFQUFDLEdBQUcsRUFBRSxDQUFDLHVCQUFNLEVBQUUsRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztJQUNqRSxJQUFBLGVBQUssR0FBRTs7b0NBQ2M7QUFFdEI7SUFBQyxJQUFBLGtCQUFRLEVBQUMsR0FBRyxFQUFFLENBQUMsaUNBQVMsRUFBRSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQzs7dUNBQzVCO0FBRTdCO0lBQUMsSUFBQSxvQkFBVSxFQUFDLEdBQUcsRUFBRSxDQUFDLG1CQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtRQUN4RCxRQUFRLEVBQUUsU0FBUztLQUNwQixDQUFDOztvQ0FDYTtBQUVmO0lBQUMsSUFBQSw2QkFBbUIsRUFBQyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLHVDQUFhLENBQUMsRUFBRSxDQUFDO0lBQ3BELElBQUEsbUJBQVMsRUFBQyxHQUFHLEVBQUUsQ0FBQyx1Q0FBYSxFQUFFLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDOzs0Q0FDdEM7QUFFaEM7SUFBQyxJQUFBLDZCQUFtQixHQUFFO0lBQ3JCLElBQUEsbUJBQVMsRUFBQyxHQUFHLEVBQUUsQ0FBQyx1QkFBTSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDOztxQ0FDL0I7QUFFbEI7SUFBQyxJQUFBLDZCQUFtQixHQUFFO0lBQ3JCLElBQUEsbUJBQVMsRUFBQyxHQUFHLEVBQUUsQ0FBQywyQ0FBZSxFQUFFLENBQUMsZUFBZSxFQUFFLEVBQUUsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDOzs4Q0FDeEM7QUFFcEM7SUFBQyxJQUFBLGtCQUFRLEVBQUMsR0FBRyxFQUFFLENBQUMsMENBQWUsRUFBRSxDQUFDLGVBQWUsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQzs4QkFDekQsMENBQWU7NkNBQUM7QUFFbEM7SUFBQyxJQUFBLDZCQUFtQixHQUFFO0lBQ3JCLElBQUEsbUJBQVMsRUFDUixHQUFHLEVBQUUsQ0FBQyxzREFBcUIsRUFDM0IsQ0FBQyxxQkFBcUIsRUFBRSxFQUFFLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUN0RDs7bURBQzhDO0FBRS9DO0lBQUMsSUFBQSx5QkFBZSxHQUFFO0lBQ2pCLElBQUEsMkJBQU8sR0FBRTtJQUNULElBQUEsZ0JBQU0sRUFBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQzs7NkNBQ3JDO0FBRWhDO0lBQUMsSUFBQSx5QkFBZSxHQUFFO0lBQ2pCLElBQUEsMkJBQU8sR0FBRTtJQUNULElBQUEsZ0JBQU0sRUFBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQzs7Z0RBQ2xDO0FBVW5DO0lBQUMsSUFBQSwwQkFBTSxHQUFFOzs7bUNBR1I7QUEvSFUsSUFBSTtJQURoQixJQUFBLGdCQUFNLEdBQUU7R0FDSSxJQUFJLENBZ0loQjtBQWhJWSxvQkFBSSIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS91c2VyL2NsaW1ib3gvcGFja2FnZXMvYXBpL3NyYy9zaXRlcy9zaXRlcy5lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR2VvSlNPTiB9IGZyb20gJ2dlb2pzb24nO1xyXG5pbXBvcnQge1xyXG4gIEVudGl0eSxcclxuICBQcmltYXJ5R2VuZXJhdGVkQ29sdW1uLFxyXG4gIENvbHVtbixcclxuICBJbmRleCxcclxuICBNYW55VG9PbmUsXHJcbiAgQ3JlYXRlRGF0ZUNvbHVtbixcclxuICBVcGRhdGVEYXRlQ29sdW1uLFxyXG4gIE9uZVRvT25lLFxyXG4gIE9uZVRvTWFueSxcclxuICBNYW55VG9NYW55LFxyXG4gIENoZWNrLFxyXG59IGZyb20gJ3R5cGVvcm0nO1xyXG5pbXBvcnQgeyBFeGNsdWRlLCBFeHBvc2UgfSBmcm9tICdjbGFzcy10cmFuc2Zvcm1lcic7XHJcbmltcG9ydCB7XHJcbiAgQXBpSGlkZVByb3BlcnR5LFxyXG4gIEFwaVByb3BlcnR5LFxyXG4gIEFwaVByb3BlcnR5T3B0aW9uYWwsXHJcbn0gZnJvbSAnQG5lc3Rqcy9zd2FnZ2VyJztcclxuaW1wb3J0IHsgUmVlZkNoZWNrU2l0ZSB9IGZyb20gJy4uL3JlZWYtY2hlY2stc2l0ZXMvcmVlZi1jaGVjay1zaXRlcy5lbnRpdHknO1xyXG5pbXBvcnQgeyBSZWVmQ2hlY2tTdXJ2ZXkgfSBmcm9tICcuLi9yZWVmLWNoZWNrLXN1cnZleXMvcmVlZi1jaGVjay1zdXJ2ZXlzLmVudGl0eSc7XHJcbmltcG9ydCB7IFNrZXRjaEZhYiB9IGZyb20gJy4uL3NpdGUtc2tldGNoZmFiL3NpdGUtc2tldGNoZmFiLmVudGl0eSc7XHJcbmltcG9ydCB7IFJlZ2lvbiB9IGZyb20gJy4uL3JlZ2lvbnMvcmVnaW9ucy5lbnRpdHknO1xyXG5pbXBvcnQgeyBTdXJ2ZXkgfSBmcm9tICcuLi9zdXJ2ZXlzL3N1cnZleXMuZW50aXR5JztcclxuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL3VzZXJzL3VzZXJzLmVudGl0eSc7XHJcbmltcG9ydCB7IFNpdGVBcHBsaWNhdGlvbiB9IGZyb20gJy4uL3NpdGUtYXBwbGljYXRpb25zL3NpdGUtYXBwbGljYXRpb25zLmVudGl0eSc7XHJcbmltcG9ydCB7IEhpc3RvcmljYWxNb250aGx5TWVhbiB9IGZyb20gJy4vaGlzdG9yaWNhbC1tb250aGx5LW1lYW4uZW50aXR5JztcclxuaW1wb3J0IHsgQXBpUG9pbnRQcm9wZXJ0eSB9IGZyb20gJy4uL2RvY3MvYXBpLXByb3BlcnRpZXMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uRGF0YUR0byB9IGZyb20gJy4uL2NvbGxlY3Rpb25zL2R0by9jb2xsZWN0aW9uLWRhdGEuZHRvJztcclxuXHJcbmV4cG9ydCBlbnVtIFNpdGVTdGF0dXMge1xyXG4gIEluUmV2aWV3ID0gJ2luX3JldmlldycsXHJcbiAgUmVqZWN0ZWQgPSAncmVqZWN0ZWQnLFxyXG4gIEFwcHJvdmVkID0gJ2FwcHJvdmVkJyxcclxuICBTaGlwcGVkID0gJ3NoaXBwZWQnLFxyXG4gIERlcGxveWVkID0gJ2RlcGxveWVkJyxcclxuICBNYWludGVuYW5jZSA9ICdtYWludGVuYW5jZScsXHJcbiAgTG9zdCA9ICdsb3N0JyxcclxuICBFbmRPZkxpZmUgPSAnZW5kX29mX2xpZmUnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBTZW5zb3JUeXBlIHtcclxuICBTb2ZhclNwb3R0ZXIgPSAnc29mYXJfc3BvdHRlcicsXHJcbn1cclxuXHJcbkBFbnRpdHkoKVxyXG5leHBvcnQgY2xhc3MgU2l0ZSB7XHJcbiAgQEFwaVByb3BlcnR5KHsgZXhhbXBsZTogMSB9KVxyXG4gIEBQcmltYXJ5R2VuZXJhdGVkQ29sdW1uKClcclxuICBpZDogbnVtYmVyO1xyXG5cclxuICBAQXBpUHJvcGVydHkoeyBleGFtcGxlOiAnRHV4YnVyeSBTaXRlJyB9KVxyXG4gIEBDb2x1bW4oeyBudWxsYWJsZTogdHJ1ZSwgdHlwZTogJ2NoYXJhY3RlciB2YXJ5aW5nJyB9KVxyXG4gIG5hbWU6IHN0cmluZyB8IG51bGw7XHJcblxyXG4gIEBBcGlQcm9wZXJ0eSh7IGV4YW1wbGU6ICdTUE9ULTAwMDAnIH0pXHJcbiAgQENvbHVtbih7IG51bGxhYmxlOiB0cnVlLCB0eXBlOiAnY2hhcmFjdGVyIHZhcnlpbmcnIH0pXHJcbiAgc2Vuc29ySWQ6IHN0cmluZyB8IG51bGw7XHJcblxyXG4gIEBBcGlQb2ludFByb3BlcnR5KClcclxuICBAQ29sdW1uKHtcclxuICAgIHR5cGU6ICdnZW9tZXRyeScsXHJcbiAgICBzcGF0aWFsRmVhdHVyZVR5cGU6ICdQb2ludCcsXHJcbiAgICB1bmlxdWU6IHRydWUsXHJcbiAgICBzcmlkOiA0MzI2LFxyXG4gICAgbnVsbGFibGU6IGZhbHNlLFxyXG4gIH0pXHJcbiAgQEluZGV4KHsgc3BhdGlhbDogdHJ1ZSB9KVxyXG4gIHBvbHlnb246IEdlb0pTT04gfCBudWxsO1xyXG5cclxuICBAQXBpUG9pbnRQcm9wZXJ0eSgpXHJcbiAgQENvbHVtbih7XHJcbiAgICB0eXBlOiAnZ2VvbWV0cnknLFxyXG4gICAgc3BhdGlhbEZlYXR1cmVUeXBlOiAnUG9pbnQnLFxyXG4gICAgc3JpZDogNDMyNixcclxuICAgIG51bGxhYmxlOiB0cnVlLFxyXG4gIH0pXHJcbiAgbmVhcmVzdE5PQUFMb2NhdGlvbjogR2VvSlNPTiB8IG51bGw7XHJcblxyXG4gIEBBcGlQcm9wZXJ0eSh7IGV4YW1wbGU6IDIzIH0pXHJcbiAgQENvbHVtbih7IG51bGxhYmxlOiB0cnVlLCB0eXBlOiAnaW50ZWdlcicgfSlcclxuICBkZXB0aDogbnVtYmVyIHwgbnVsbDtcclxuXHJcbiAgQEFwaVByb3BlcnR5KHsgZXhhbXBsZTogJ2h0dHBzOi8vc29tZXRoaW5nLmV4YW1wbGUuY29tJyB9KVxyXG4gIEBDb2x1bW4oeyBudWxsYWJsZTogdHJ1ZSwgdHlwZTogJ2NoYXJhY3RlciB2YXJ5aW5nJyB9KVxyXG4gIEBDaGVjaygnY2hhcl9sZW5ndGgoaWZyYW1lKSA8PSAyMDAgQU5EIGNoYXJfbGVuZ3RoKGlmcmFtZSkgPiAxMCcpXHJcbiAgaWZyYW1lOiBzdHJpbmcgfCBudWxsO1xyXG5cclxuICAvLyBUT0RPOiAgVGhpcyBmaWVsZCBzaG91bGQgYmUgdHJhbnNmZXJyZWQgdG8gc2l0ZS1hcHBsaWNhdGlvbiB0YWJsZVxyXG4gIC8vICAgICAgICBUaGUgdHJhbnNpdGlvbiBoYXMgdG8gYmUgaW4gc3luYyB3aXRoIGNoYW5nZXMgaW4gYWRtaW4gZGFzaGJvYXJkcyBpbiBpbnRlcm5hbC5pb1xyXG4gIEBDb2x1bW4oe1xyXG4gICAgdHlwZTogJ2VudW0nLFxyXG4gICAgZW51bTogU2l0ZVN0YXR1cyxcclxuICAgIGRlZmF1bHQ6IFNpdGVTdGF0dXMuSW5SZXZpZXcsXHJcbiAgICBudWxsYWJsZTogZmFsc2UsXHJcbiAgfSlcclxuICBzdGF0dXM6IFNpdGVTdGF0dXM7XHJcblxyXG4gIEBDb2x1bW4oeyBudWxsYWJsZTogdHJ1ZSwgdHlwZTogJ2NoYXJhY3RlciB2YXJ5aW5nJyB9KVxyXG4gIHZpZGVvU3RyZWFtOiBzdHJpbmcgfCBudWxsO1xyXG5cclxuICBAQXBpUHJvcGVydHkoeyBleGFtcGxlOiAzMy41NCB9KVxyXG4gIEBDb2x1bW4oJ2Zsb2F0JywgeyBudWxsYWJsZTogdHJ1ZSB9KVxyXG4gIG1heE1vbnRobHlNZWFuOiBudW1iZXIgfCBudWxsO1xyXG5cclxuICBAQXBpUHJvcGVydHkoeyBleGFtcGxlOiAnUGFjaWZpYy9QYWxhdScgfSlcclxuICBAQ29sdW1uKHsgbnVsbGFibGU6IHRydWUsIHR5cGU6ICdjaGFyYWN0ZXIgdmFyeWluZycgfSlcclxuICB0aW1lem9uZTogc3RyaW5nIHwgbnVsbDtcclxuXHJcbiAgQENvbHVtbih7IGRlZmF1bHQ6IHRydWUgfSlcclxuICBkaXNwbGF5OiBib29sZWFuO1xyXG5cclxuICBAQ3JlYXRlRGF0ZUNvbHVtbigpXHJcbiAgY3JlYXRlZEF0OiBEYXRlO1xyXG5cclxuICBAVXBkYXRlRGF0ZUNvbHVtbigpXHJcbiAgdXBkYXRlZEF0OiBEYXRlO1xyXG5cclxuICBATWFueVRvT25lKCgpID0+IFJlZ2lvbiwgeyBvbkRlbGV0ZTogJ1NFVCBOVUxMJywgbnVsbGFibGU6IHRydWUgfSlcclxuICBASW5kZXgoKVxyXG4gIHJlZ2lvbjogUmVnaW9uIHwgbnVsbDtcclxuXHJcbiAgQE9uZVRvT25lKCgpID0+IFNrZXRjaEZhYiwgKHNrZXRjaEZhYikgPT4gc2tldGNoRmFiLnNpdGUpXHJcbiAgc2tldGNoRmFiPzogU2tldGNoRmFiIHwgbnVsbDtcclxuXHJcbiAgQE1hbnlUb01hbnkoKCkgPT4gVXNlciwgKHVzZXIpID0+IHVzZXIuYWRtaW5pc3RlcmVkU2l0ZXMsIHtcclxuICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsXHJcbiAgfSlcclxuICBhZG1pbnM6IFVzZXJbXTtcclxuXHJcbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoeyB0eXBlOiAoKSA9PiBbUmVlZkNoZWNrU2l0ZV0gfSlcclxuICBAT25lVG9NYW55KCgpID0+IFJlZWZDaGVja1NpdGUsIChyZWVmQ2hlY2tTaXRlKSA9PiByZWVmQ2hlY2tTaXRlLnNpdGUpXHJcbiAgcmVlZkNoZWNrU2l0ZXM6IFJlZWZDaGVja1NpdGVbXTtcclxuXHJcbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoKVxyXG4gIEBPbmVUb01hbnkoKCkgPT4gU3VydmV5LCAoc3VydmV5KSA9PiBzdXJ2ZXkuc2l0ZSlcclxuICBzdXJ2ZXlzOiBTdXJ2ZXlbXTtcclxuXHJcbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoKVxyXG4gIEBPbmVUb01hbnkoKCkgPT4gUmVlZkNoZWNrU3VydmV5LCAocmVlZkNoZWNrU3VydmV5KSA9PiByZWVmQ2hlY2tTdXJ2ZXkuc2l0ZSlcclxuICByZWVmQ2hlY2tTdXJ2ZXlzOiBSZWVmQ2hlY2tTdXJ2ZXlbXTtcclxuXHJcbiAgQE9uZVRvT25lKCgpID0+IFNpdGVBcHBsaWNhdGlvbiwgKHNpdGVBcHBsaWNhdGlvbikgPT4gc2l0ZUFwcGxpY2F0aW9uLnNpdGUpXHJcbiAgc2l0ZUFwcGxpY2F0aW9uPzogU2l0ZUFwcGxpY2F0aW9uO1xyXG5cclxuICBAQXBpUHJvcGVydHlPcHRpb25hbCgpXHJcbiAgQE9uZVRvTWFueShcclxuICAgICgpID0+IEhpc3RvcmljYWxNb250aGx5TWVhbixcclxuICAgIChoaXN0b3JpY2FsTW9udGhseU1lYW4pID0+IGhpc3RvcmljYWxNb250aGx5TWVhbi5zaXRlLFxyXG4gIClcclxuICBoaXN0b3JpY2FsTW9udGhseU1lYW46IEhpc3RvcmljYWxNb250aGx5TWVhbltdO1xyXG5cclxuICBAQXBpSGlkZVByb3BlcnR5KClcclxuICBARXhjbHVkZSgpXHJcbiAgQENvbHVtbih7IG51bGxhYmxlOiB0cnVlLCBzZWxlY3Q6IGZhbHNlLCB0eXBlOiAnY2hhcmFjdGVyIHZhcnlpbmcnIH0pXHJcbiAgc3BvdHRlckFwaVRva2VuPzogc3RyaW5nIHwgbnVsbDtcclxuXHJcbiAgQEFwaUhpZGVQcm9wZXJ0eSgpXHJcbiAgQEV4Y2x1ZGUoKVxyXG4gIEBDb2x1bW4oeyBudWxsYWJsZTogdHJ1ZSwgc2VsZWN0OiBmYWxzZSwgdHlwZTogJ2NoYXJhY3RlciB2YXJ5aW5nJyB9KVxyXG4gIGNvbnRhY3RJbmZvcm1hdGlvbj86IHN0cmluZyB8IG51bGw7XHJcblxyXG4gIGhhc0hvYm8/OiBib29sZWFuO1xyXG5cclxuICBjb2xsZWN0aW9uRGF0YT86IENvbGxlY3Rpb25EYXRhRHRvO1xyXG5cclxuICBtYXNrZWRTcG90dGVyQXBpVG9rZW4/OiBzdHJpbmc7XHJcblxyXG4gIHdhdGVyUXVhbGl0eVNvdXJjZXM/OiBzdHJpbmdbXTtcclxuXHJcbiAgQEV4cG9zZSgpXHJcbiAgZ2V0IGFwcGxpZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gISF0aGlzLnNpdGVBcHBsaWNhdGlvbj8ucGVybWl0UmVxdWlyZW1lbnRzO1xyXG4gIH1cclxufVxyXG4iXSwidmVyc2lvbiI6M30=