{"version":3,"names":["cov_21pfltq31x","actualCoverage","common_1","s","require","passport_1","core_1","FirebaseAuthGuard","AuthGuard","constructor","reflector","f","canActivate","context","isPublic","get","getHandler","b","__decorate","Injectable","Reflector","exports"],"sources":["/home/user/climbox/packages/api/src/auth/firebase-auth.guard.ts"],"sourcesContent":["import { Injectable, ExecutionContext } from '@nestjs/common';\r\nimport { AuthGuard } from '@nestjs/passport';\r\nimport { Reflector } from '@nestjs/core';\r\n\r\n@Injectable()\r\nexport class FirebaseAuthGuard extends AuthGuard('custom') {\r\n  constructor(private reflector: Reflector) {\r\n    super();\r\n  }\r\n\r\n  canActivate(context: ExecutionContext) {\r\n    const isPublic = this.reflector.get<boolean>(\r\n      'isPublic',\r\n      context.getHandler(),\r\n    );\r\n\r\n    if (isPublic) {\r\n      return true;\r\n    }\r\n\r\n    return super.canActivate(context);\r\n  }\r\n}\r\n"],"mappings":"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"}