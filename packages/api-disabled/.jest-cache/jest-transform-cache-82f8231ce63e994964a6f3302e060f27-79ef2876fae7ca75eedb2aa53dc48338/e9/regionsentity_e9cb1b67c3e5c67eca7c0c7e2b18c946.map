{"file":"/home/user/climbox/packages/api/src/regions/regions.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCASiB;AAEjB,6CAA8C;AAC9C,2DAA0D;AAGnD,IAAM,MAAM,cAAZ,MAAM,MAAM;CAkClB,CAAA;AAjCC;IAAC,IAAA,qBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;IAC3B,IAAA,gCAAsB,GAAE;;kCACd;AAEX;IAAC,IAAA,qBAAW,EAAC,EAAE,OAAO,EAAE,eAAe,EAAE,CAAC;IACzC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;oCACf;AAEb;IAAC,IAAA,iCAAgB,GAAE;IAClB,IAAA,gBAAM,EAAC;QACN,IAAI,EAAE,UAAU;QAChB,kBAAkB,EAAE,OAAO;QAC3B,MAAM,EAAE,IAAI;QACZ,IAAI,EAAE,IAAI;QACV,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,IAAA,eAAK,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;uCACD;AAExB;IAAC,IAAA,0BAAgB,GAAE;8BACR,IAAI;yCAAC;AAEhB;IAAC,IAAA,0BAAgB,GAAE;8BACR,IAAI;yCAAC;AAEhB;IAAC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,QAAM,EAAE,CAAC;IACnC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,QAAM,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAChE,IAAA,eAAK,GAAE;;sCACc;AAEtB;IAAC,IAAA,qBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;IAC3B,IAAA,oBAAU,EAAC,CAAC,MAAc,EAAE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;;wCAC5B;AAjCP,MAAM;IADlB,IAAA,gBAAM,GAAE;GACI,MAAM,CAkClB;AAlCY,wBAAM","names":[],"sources":["/home/user/climbox/packages/api/src/regions/regions.entity.ts"],"sourcesContent":["import {\r\n  Entity,\r\n  PrimaryGeneratedColumn,\r\n  Column,\r\n  Index,\r\n  ManyToOne,\r\n  CreateDateColumn,\r\n  UpdateDateColumn,\r\n  RelationId,\r\n} from 'typeorm';\r\nimport { GeoJSON } from 'geojson';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { ApiPointProperty } from '../docs/api-properties';\r\n\r\n@Entity()\r\nexport class Region {\r\n  @ApiProperty({ example: 1 })\r\n  @PrimaryGeneratedColumn()\r\n  id: number;\r\n\r\n  @ApiProperty({ example: 'United States' })\r\n  @Column({ nullable: false })\r\n  name: string;\r\n\r\n  @ApiPointProperty()\r\n  @Column({\r\n    type: 'geometry',\r\n    spatialFeatureType: 'Point',\r\n    unique: true,\r\n    srid: 4326,\r\n    nullable: false,\r\n  })\r\n  @Index({ spatial: true })\r\n  polygon: GeoJSON | null;\r\n\r\n  @CreateDateColumn()\r\n  createdAt: Date;\r\n\r\n  @UpdateDateColumn()\r\n  updatedAt: Date;\r\n\r\n  @ApiProperty({ type: () => Region })\r\n  @ManyToOne(() => Region, { onDelete: 'CASCADE', nullable: true })\r\n  @Index()\r\n  parent: Region | null;\r\n\r\n  @ApiProperty({ example: 1 })\r\n  @RelationId((region: Region) => region.parent)\r\n  parentId?: number;\r\n}\r\n"],"version":3}