{"version":3,"names":["cov_2c7suzgytf","actualCoverage","s","common_1","require","GCS_BUCKET","process","env","GoogleCloudDir","f","b","exports","getSurveyMediaFileFromURL","url","InternalServerErrorException","split"],"sources":["/home/user/climbox/packages/api/src/utils/google-cloud.utils.ts"],"sourcesContent":["import { InternalServerErrorException } from '@nestjs/common';\r\n\r\nconst { GCS_BUCKET } = process.env;\r\n\r\nexport enum GoogleCloudDir {\r\n  SURVEYS = 'surveys',\r\n  DATA_UPLOADS = 'data_uploads',\r\n}\r\n\r\nexport const getSurveyMediaFileFromURL = (url: string) => {\r\n  if (!GCS_BUCKET) {\r\n    throw new InternalServerErrorException('GCS_BUCKET variable is not set');\r\n  }\r\n\r\n  return url.split(`${GCS_BUCKET}/`)[1];\r\n};\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeE;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;;AAfF,MAAAC,QAAA;AAAA;AAAA,CAAAH,cAAA,GAAAE,CAAA,OAAAE,OAAA;AAEA,MAAM;EAAEC;AAAU,CAAE;AAAA;AAAA,CAAAL,cAAA,GAAAE,CAAA,OAAGI,OAAO,CAACC,GAAG;AAElC,IAAYC,cAGX;AAAA;AAAAR,cAAA,GAAAE,CAAA;AAHD,WAAYM,cAAc;EAAA;EAAAR,cAAA,GAAAS,CAAA;EAAAT,cAAA,GAAAE,CAAA;EACxBM,cAAA,uBAAmB;EAAA;EAAAR,cAAA,GAAAE,CAAA;EACnBM,cAAA,iCAA6B;AAC/B,CAAC,EAHWA,cAAc;AAAd;AAAA,CAAAR,cAAA,GAAAU,CAAA,UAAAC,OAAA,CAAAH,cAAc;AAAA;AAAA,CAAAR,cAAA,GAAAU,CAAA,UAAdC,OAAA,CAAAH,cAAc;AAGzB;AAAAR,cAAA,GAAAE,CAAA;AAEM,MAAMU,yBAAyB,GAAIC,GAAW,IAAI;EAAA;EAAAb,cAAA,GAAAS,CAAA;EAAAT,cAAA,GAAAE,CAAA;EACvD,IAAI,CAACG,UAAU,EAAE;IAAA;IAAAL,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IACf,MAAM,IAAIC,QAAA,CAAAW,4BAA4B,CAAC,gCAAgC,CAAC;GACzE;EAAA;EAAA;IAAAd,cAAA,GAAAU,CAAA;EAAA;EAAAV,cAAA,GAAAE,CAAA;EAED,OAAOW,GAAG,CAACE,KAAK,CAAC,GAAGV,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC;AACvC,CAAC;AAAC;AAAAL,cAAA,GAAAE,CAAA;AANWS,OAAA,CAAAC,yBAAyB,GAAAA,yBAAA"}